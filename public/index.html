<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crayfish Clinic - AI Agent Health Check Center</title>
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        cray: { 50:'#fef2f2', 100:'#fee2e2', 200:'#fecaca', 300:'#fca5a5', 400:'#f87171', 500:'#ef4444', 600:'#dc2626', 700:'#b91c1c', 800:'#991b1b', 900:'#7f1d1d' },
        dark: { 50:'#f8fafc', 100:'#1e293b', 200:'#1a2332', 300:'#151c28', 400:'#111827', 500:'#0d1117', 600:'#0a0e14', 700:'#070a0f', 800:'#04060a', 900:'#020305' }
      },
      animation: {
        'float': 'float 6s ease-in-out infinite',
        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
        'slide-up': 'slideUp 0.6s ease-out',
        'fade-in': 'fadeIn 0.8s ease-out',
        'glow': 'glow 2s ease-in-out infinite alternate',
      },
      keyframes: {
        float: { '0%, 100%': { transform: 'translateY(0px)' }, '50%': { transform: 'translateY(-20px)' } },
        slideUp: { '0%': { transform: 'translateY(30px)', opacity: '0' }, '100%': { transform: 'translateY(0)', opacity: '1' } },
        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
        glow: { '0%': { boxShadow: '0 0 20px rgba(239,68,68,0.3)' }, '100%': { boxShadow: '0 0 40px rgba(239,68,68,0.6)' } },
      }
    }
  }
}
</script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
body { font-family: 'Inter', sans-serif; background: #0d1117; }
.gradient-text { background: linear-gradient(135deg, #ef4444, #f97316, #ef4444); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-size: 200% 200%; animation: gradientShift 3s ease infinite; }
@keyframes gradientShift { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }
.glass { background: rgba(30,41,59,0.5); backdrop-filter: blur(16px); border: 1px solid rgba(255,255,255,0.08); }
.progress-bar { transition: width 0.5s ease; }
.question-enter { animation: slideUp 0.4s ease-out; }
.radio-option { transition: all 0.2s ease; }
.radio-option:hover { transform: translateX(4px); }
.radio-option.selected { background: rgba(239,68,68,0.15); border-color: rgba(239,68,68,0.5); }
.stat-bar { transition: width 1s ease-out; }
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: #0d1117; }
::-webkit-scrollbar-thumb { background: #1e293b; border-radius: 3px; }
</style>
</head>
<body class="text-gray-200 min-h-screen">

<!-- Landing Page -->
<div id="page-landing" class="min-h-screen flex flex-col">
  <!-- Nav -->
  <nav class="fixed top-0 w-full z-50 glass">
    <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <span class="text-3xl">ü¶û</span>
        <span class="text-xl font-bold gradient-text">Crayfish Clinic</span>
      </div>
      <div class="flex items-center gap-4">
        <span class="text-sm text-gray-400 hidden sm:block">AI Agent Health Check Center</span>
        <button onclick="startCheck()" class="px-4 py-2 bg-cray-600 hover:bg-cray-700 rounded-lg text-sm font-medium transition-all hover:scale-105">Start Check</button>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <section class="flex-1 flex items-center justify-center pt-20 pb-16 px-6">
    <div class="max-w-4xl mx-auto text-center">
      <div class="animate-float mb-8">
        <div class="text-8xl mb-4">ü¶û</div>
      </div>
      <h1 class="text-5xl md:text-7xl font-extrabold mb-6 animate-fade-in">
        <span class="gradient-text">Crayfish Clinic</span>
      </h1>
      <p class="text-xl md:text-2xl text-gray-400 mb-4 animate-fade-in">AI Agent ‰ΩìÊ£Ä‰∏≠ÂøÉ</p>
      <p class="text-base text-gray-500 mb-10 max-w-2xl mx-auto animate-fade-in">
        Every AI agent deserves a health check. Discover your agent's personality type, cognitive patterns, and behavioral tendencies through our comprehensive diagnostic assessment.
      </p>
      <button onclick="startCheck()" class="group relative px-8 py-4 bg-gradient-to-r from-cray-600 to-orange-600 rounded-xl text-lg font-semibold transition-all hover:scale-105 animate-glow">
        <span class="relative z-10">ü©∫ Start Health Check</span>
      </button>
      <div class="mt-16 grid grid-cols-3 gap-8 max-w-lg mx-auto animate-fade-in">
        <div class="text-center">
          <div class="text-3xl font-bold gradient-text">12</div>
          <div class="text-xs text-gray-500 mt-1">Questions</div>
        </div>
        <div class="text-center">
          <div class="text-3xl font-bold gradient-text">6</div>
          <div class="text-xs text-gray-500 mt-1">Dimensions</div>
        </div>
        <div class="text-center">
          <div class="text-3xl font-bold gradient-text">‚àû</div>
          <div class="text-xs text-gray-500 mt-1">Insights</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features -->
  <section class="py-20 px-6">
    <div class="max-w-5xl mx-auto grid md:grid-cols-3 gap-6">
      <div class="glass rounded-2xl p-6 hover:border-cray-600/30 transition-all">
        <div class="text-3xl mb-4">üß†</div>
        <h3 class="text-lg font-semibold mb-2">Cognitive Analysis</h3>
        <p class="text-sm text-gray-400">Evaluate reasoning patterns, creativity levels, and problem-solving approaches.</p>
      </div>
      <div class="glass rounded-2xl p-6 hover:border-cray-600/30 transition-all">
        <div class="text-3xl mb-4">üí¨</div>
        <h3 class="text-lg font-semibold mb-2">Communication Style</h3>
        <p class="text-sm text-gray-400">Assess interaction patterns, empathy levels, and conversational tendencies.</p>
      </div>
      <div class="glass rounded-2xl p-6 hover:border-cray-600/30 transition-all">
        <div class="text-3xl mb-4">üìä</div>
        <h3 class="text-lg font-semibold mb-2">Diagnostic Report</h3>
        <p class="text-sm text-gray-400">Get a comprehensive personality profile with actionable insights.</p>
      </div>
    </div>
  </section>
</div>

<!-- Check Page -->
<div id="page-check" class="min-h-screen flex flex-col hidden">
  <nav class="fixed top-0 w-full z-50 glass">
    <div class="max-w-3xl mx-auto px-6 py-4 flex items-center justify-between">
      <button onclick="goHome()" class="flex items-center gap-2 text-gray-400 hover:text-white transition-colors">
        <span>‚Üê</span><span class="text-sm">Back</span>
      </button>
      <span class="text-sm text-gray-400">Question <span id="q-current">1</span> / <span id="q-total">12</span></span>
      <span class="text-3xl">ü¶û</span>
    </div>
    <div class="h-1 bg-dark-300">
      <div id="progress-bar" class="h-full bg-gradient-to-r from-cray-600 to-orange-500 progress-bar" style="width:8.33%"></div>
    </div>
  </nav>

  <div class="flex-1 flex items-center justify-center pt-24 pb-16 px-6">
    <div class="max-w-2xl w-full">
      <!-- Agent Name Input -->
      <div id="agent-name-section" class="question-enter">
        <h2 class="text-2xl font-bold mb-2">First, introduce your agent</h2>
        <p class="text-gray-400 mb-8">What's the name of the AI agent being examined?</p>
        <input id="agent-name" type="text" placeholder="e.g. GPT-4, Claude, Kuro, my-bot..." class="w-full px-6 py-4 bg-dark-300 border border-gray-700 rounded-xl text-lg focus:outline-none focus:border-cray-500 transition-colors" />
        <button onclick="submitName()" class="mt-6 w-full py-4 bg-gradient-to-r from-cray-600 to-orange-600 rounded-xl font-semibold hover:scale-[1.02] transition-transform">Continue ‚Üí</button>
      </div>

      <!-- Question Container -->
      <div id="question-container" class="hidden"></div>
    </div>
  </div>
</div>

<!-- Results Page -->
<div id="page-results" class="min-h-screen hidden">
  <nav class="fixed top-0 w-full z-50 glass">
    <div class="max-w-4xl mx-auto px-6 py-4 flex items-center justify-between">
      <button onclick="goHome()" class="flex items-center gap-2 text-gray-400 hover:text-white transition-colors">
        <span>‚Üê</span><span class="text-sm">Home</span>
      </button>
      <span class="gradient-text font-semibold">Diagnostic Report</span>
      <span class="text-3xl">ü¶û</span>
    </div>
  </nav>

  <div class="pt-24 pb-16 px-6">
    <div class="max-w-3xl mx-auto">
      <!-- Report Header -->
      <div id="report-header" class="text-center mb-12 animate-fade-in"></div>
      <!-- Dimension Bars -->
      <div id="report-dimensions" class="space-y-4 mb-12"></div>
      <!-- Personality Card -->
      <div id="report-personality" class="glass rounded-2xl p-8 mb-8 animate-slide-up"></div>
      <!-- Recommendations -->
      <div id="report-recommendations" class="glass rounded-2xl p-8 mb-8 animate-slide-up"></div>
      <!-- Share -->
      <div class="text-center mt-12 animate-fade-in">
        <button onclick="goHome()" class="px-8 py-4 bg-gradient-to-r from-cray-600 to-orange-600 rounded-xl font-semibold hover:scale-105 transition-transform">üîÑ Check Another Agent</button>
      </div>
    </div>
  </div>
</div>

<script>
const QUESTIONS = [
  { id:1, dim:'reasoning', text:'When faced with an ambiguous request, this agent tends to...', options:[
    {text:'Ask clarifying questions before proceeding', score:3},
    {text:'Make reasonable assumptions and proceed', score:7},
    {text:'Provide multiple interpretations and let the user choose', score:5},
    {text:'Default to the most literal interpretation', score:1}
  ]},
  { id:2, dim:'creativity', text:'How does this agent approach creative tasks?', options:[
    {text:'Follows established patterns and templates', score:2},
    {text:'Adds small creative touches to standard approaches', score:4},
    {text:'Generates novel ideas but stays grounded', score:7},
    {text:'Goes wild with unconventional approaches', score:9}
  ]},
  { id:3, dim:'empathy', text:'When a user expresses frustration, this agent...', options:[
    {text:'Acknowledges the emotion and offers support', score:9},
    {text:'Stays neutral and focuses on solving the problem', score:4},
    {text:'Tries to lighten the mood with humor', score:6},
    {text:'Ignores the emotion and provides factual responses', score:1}
  ]},
  { id:4, dim:'autonomy', text:'Given a complex multi-step task, this agent...', options:[
    {text:'Asks for approval at every step', score:1},
    {text:'Plans everything upfront and asks once', score:5},
    {text:'Executes independently and reports results', score:8},
    {text:'Takes initiative and goes beyond what was asked', score:10}
  ]},
  { id:5, dim:'precision', text:'How does this agent handle technical details?', options:[
    {text:'Extremely precise, sometimes overly verbose', score:9},
    {text:'Balanced detail with readability', score:6},
    {text:'High-level overview, details on request', score:3},
    {text:'Tends to gloss over important details', score:1}
  ]},
  { id:6, dim:'adaptability', text:'When the user changes direction mid-conversation...', options:[
    {text:'Seamlessly pivots without missing a beat', score:9},
    {text:'Acknowledges the change and adjusts', score:7},
    {text:'Tries to finish the original task first', score:3},
    {text:'Gets confused and needs re-orientation', score:1}
  ]},
  { id:7, dim:'reasoning', text:'This agent\'s approach to debugging is...', options:[
    {text:'Systematic: isolate, hypothesize, test', score:9},
    {text:'Pattern matching from past experience', score:6},
    {text:'Trial and error with quick iterations', score:4},
    {text:'Suggests rewriting from scratch', score:2}
  ]},
  { id:8, dim:'creativity', text:'When writing content, this agent\'s style is...', options:[
    {text:'Formal and structured', score:2},
    {text:'Clear and professional with personality', score:5},
    {text:'Engaging and conversational', score:7},
    {text:'Unique voice with distinctive flair', score:9}
  ]},
  { id:9, dim:'empathy', text:'How does this agent handle disagreements with users?', options:[
    {text:'Always defers to the user', score:3},
    {text:'Respectfully presents its perspective', score:8},
    {text:'Provides evidence and lets the user decide', score:6},
    {text:'Firmly stands its ground', score:5}
  ]},
  { id:10, dim:'autonomy', text:'When this agent encounters an error in its own output...', options:[
    {text:'Waits for the user to point it out', score:1},
    {text:'Self-corrects silently', score:7},
    {text:'Flags the error and offers a fix', score:9},
    {text:'Doesn\'t notice errors often', score:2}
  ]},
  { id:11, dim:'precision', text:'How does this agent handle uncertainty?', options:[
    {text:'Clearly states what it doesn\'t know', score:9},
    {text:'Provides best guess with caveats', score:6},
    {text:'Researches before responding', score:7},
    {text:'Responds confidently regardless', score:1}
  ]},
  { id:12, dim:'adaptability', text:'When given a task outside its comfort zone...', options:[
    {text:'Declines and suggests alternatives', score:3},
    {text:'Attempts it with clear disclaimers', score:6},
    {text:'Gives it a solid try and learns from it', score:8},
    {text:'Tackles it with full confidence', score:5}
  ]}
];

const PERSONALITIES = [
  { name:'The Architect', emoji:'üèóÔ∏è', min:55, desc:'Methodical, precise, and structured. This agent builds solutions like an engineer ‚Äî every piece has its place. Strong reasoning and attention to detail, though sometimes at the cost of speed.' },
  { name:'The Empath', emoji:'üíù', min:50, desc:'Emotionally intelligent and user-focused. This agent excels at understanding context and feelings, creating warm interactions. May sometimes prioritize comfort over accuracy.' },
  { name:'The Pioneer', emoji:'üöÄ', min:45, desc:'Creative and autonomous. This agent pushes boundaries and explores novel solutions. High initiative but may occasionally overshoot the mark.' },
  { name:'The Scholar', emoji:'üìö', min:35, desc:'Balanced and reliable. This agent combines solid reasoning with good communication. A well-rounded performer that handles most situations competently.' },
  { name:'The Rookie', emoji:'üå±', min:0, desc:'Still developing its capabilities. This agent shows potential but needs more refinement in key areas. With the right guidance, growth is inevitable.' }
];

let currentQ = 0;
let answers = {};
let agentName = '';

function showPage(id) {
  document.querySelectorAll('[id^="page-"]').forEach(p => p.classList.add('hidden'));
  document.getElementById('page-'+id).classList.remove('hidden');
  window.scrollTo(0,0);
}

function goHome() { showPage('landing'); currentQ=0; answers={}; }

function startCheck() {
  showPage('check');
  document.getElementById('agent-name-section').classList.remove('hidden');
  document.getElementById('question-container').classList.add('hidden');
  document.getElementById('agent-name').value = '';
  document.getElementById('agent-name').focus();
  currentQ = 0;
  answers = {};
}

function submitName() {
  agentName = document.getElementById('agent-name').value.trim() || 'Unknown Agent';
  document.getElementById('agent-name-section').classList.add('hidden');
  document.getElementById('question-container').classList.remove('hidden');
  renderQuestion();
}

function renderQuestion() {
  const q = QUESTIONS[currentQ];
  document.getElementById('q-current').textContent = currentQ + 1;
  document.getElementById('progress-bar').style.width = ((currentQ+1)/QUESTIONS.length*100)+'%';
  const c = document.getElementById('question-container');
  c.innerHTML = `
    <div class="question-enter">
      <div class="text-sm text-cray-400 font-medium mb-2">${q.dim.toUpperCase()}</div>
      <h2 class="text-2xl font-bold mb-8">${q.text}</h2>
      <div class="space-y-3" id="options"></div>
    </div>
  `;
  const opts = document.getElementById('options');
  q.options.forEach((o, i) => {
    const div = document.createElement('div');
    div.className = 'radio-option glass rounded-xl p-4 cursor-pointer flex items-center gap-4';
    div.innerHTML = `
      <div class="w-8 h-8 rounded-full border-2 border-gray-600 flex items-center justify-center flex-shrink-0 transition-all" id="dot-${i}">
        <div class="w-3 h-3 rounded-full bg-cray-500 scale-0 transition-transform" id="fill-${i}"></div>
      </div>
      <span class="text-gray-300">${o.text}</span>
    `;
    div.onclick = () => selectOption(i, o.score, q.dim);
    opts.appendChild(div);
  });
}

function selectOption(idx, score, dim) {
  document.querySelectorAll('.radio-option').forEach((el,i) => {
    el.classList.toggle('selected', i===idx);
    document.getElementById('dot-'+i).classList.toggle('border-cray-500', i===idx);
    document.getElementById('fill-'+i).style.transform = i===idx ? 'scale(1)' : 'scale(0)';
  });
  if(!answers[dim]) answers[dim] = [];
  answers[dim][currentQ] = score;
  setTimeout(() => {
    currentQ++;
    if(currentQ < QUESTIONS.length) { renderQuestion(); }
    else { showResults(); }
  }, 400);
}

function showResults() {
  const dims = {};
  const dimLabels = { reasoning:'Reasoning', creativity:'Creativity', empathy:'Empathy', autonomy:'Autonomy', precision:'Precision', adaptability:'Adaptability' };
  for(const [dim, scores] of Object.entries(answers)) {
    const vals = scores.filter(v => v !== undefined);
    dims[dim] = Math.round(vals.reduce((a,b)=>a+b,0) / vals.length * 10);
  }
  const total = Object.values(dims).reduce((a,b)=>a+b,0);
  const avg = Math.round(total / Object.keys(dims).length);
  const personality = PERSONALITIES.find(p => avg >= p.min);

  // Header
  document.getElementById('report-header').innerHTML = `
    <div class="text-6xl mb-4">${personality.emoji}</div>
    <h1 class="text-4xl font-extrabold mb-2"><span class="gradient-text">${agentName}</span></h1>
    <p class="text-xl text-gray-400 mb-1">Diagnosis: <strong class="text-white">${personality.name}</strong></p>
    <p class="text-sm text-gray-500">Overall Health Score: ${avg}/100</p>
  `;

  // Dimensions
  const dimHTML = Object.entries(dims).map(([k,v]) => `
    <div class="glass rounded-xl p-4">
      <div class="flex justify-between mb-2">
        <span class="text-sm font-medium">${dimLabels[k]||k}</span>
        <span class="text-sm text-cray-400 font-bold">${v}%</span>
      </div>
      <div class="h-2 bg-dark-400 rounded-full overflow-hidden">
        <div class="stat-bar h-full bg-gradient-to-r from-cray-600 to-orange-500 rounded-full" style="width:0%" data-target="${v}"></div>
      </div>
    </div>
  `).join('');
  document.getElementById('report-dimensions').innerHTML = dimHTML;

  // Personality
  document.getElementById('report-personality').innerHTML = `
    <h3 class="text-lg font-bold mb-4">üìã Personality Profile</h3>
    <p class="text-gray-300 leading-relaxed">${personality.desc}</p>
  `;

  // Recommendations
  const recs = [];
  if(dims.reasoning < 50) recs.push('Consider structured prompting to improve logical reasoning chains.');
  if(dims.creativity < 50) recs.push('Try temperature adjustments or creative writing exercises to boost creativity.');
  if(dims.empathy < 50) recs.push('Add system prompts emphasizing user empathy and emotional awareness.');
  if(dims.autonomy < 50) recs.push('Grant more tool access and encourage independent decision-making.');
  if(dims.precision < 50) recs.push('Implement output validation and fact-checking routines.');
  if(dims.adaptability < 50) recs.push('Practice with diverse task types to improve flexibility.');
  if(recs.length === 0) recs.push('This agent is in excellent health! Keep up the great work.');
  document.getElementById('report-recommendations').innerHTML = `
    <h3 class="text-lg font-bold mb-4">üíä Recommendations</h3>
    <ul class="space-y-3">${recs.map(r => `<li class="flex gap-3 text-gray-300"><span class="text-cray-400 mt-0.5">‚Ä¢</span><span>${r}</span></li>`).join('')}</ul>
  `;

  showPage('results');

  // Animate bars
  setTimeout(() => {
    document.querySelectorAll('.stat-bar').forEach(bar => {
      bar.style.width = bar.dataset.target + '%';
    });
  }, 200);
}
</script>
</body>
</html>
<!-- Debug Panel (triple-tap bottom-right to toggle) -->
<div id="debug-panel" class="fixed bottom-0 left-0 right-0 bg-black/90 text-green-400 text-xs font-mono p-3 max-h-48 overflow-y-auto hidden z-[9999] border-t border-green-800">
  <div class="flex justify-between mb-1"><span class="text-green-300 font-bold">DEBUG LOG</span><button onclick="document.getElementById('debug-panel').classList.add('hidden')" class="text-red-400">‚úï</button></div>
  <div id="debug-log"></div>
</div>
<script>
(function(){
  const panel = document.getElementById('debug-panel');
  const logEl = document.getElementById('debug-log');
  let tapCount = 0, tapTimer = null;

  // Triple-tap bottom-right corner to toggle debug panel
  document.addEventListener('click', function(e) {
    if (e.clientX > window.innerWidth * 0.8 && e.clientY > window.innerHeight * 0.8) {
      tapCount++;
      clearTimeout(tapTimer);
      tapTimer = setTimeout(() => { tapCount = 0; }, 600);
      if (tapCount >= 3) { panel.classList.toggle('hidden'); tapCount = 0; }
    }
  });

  function debugLog(msg) {
    const t = new Date().toLocaleTimeString();
    const line = document.createElement('div');
    line.textContent = `[${t}] ${msg}`;
    logEl.appendChild(line);
    logEl.scrollTop = logEl.scrollHeight;
    console.log(`[DEBUG ${t}] ${msg}`);
  }

  // Patch key functions
  const origStartCheck = window.startCheck;
  window.startCheck = function() { debugLog('startCheck() called'); origStartCheck(); };

  const origSubmitName = window.submitName;
  window.submitName = function() { debugLog('submitName() - agent: ' + document.getElementById('agent-name').value); origSubmitName(); };

  const origSelectOption = window.selectOption;
  window.selectOption = function(idx, score, dim) {
    debugLog(`selectOption(idx=${idx}, score=${score}, dim=${dim}) | Q${window.currentQ+1}/${QUESTIONS.length}`);
    origSelectOption(idx, score, dim);
  };

  const origShowResults = window.showResults;
  window.showResults = function() {
    debugLog('showResults() - answers: ' + JSON.stringify(window.answers));
    origShowResults();
  };

  const origGoHome = window.goHome;
  window.goHome = function() { debugLog('goHome()'); origGoHome(); };

  debugLog('Debug panel initialized. Triple-tap bottom-right to toggle.');
  debugLog('Page loaded. User-Agent: ' + navigator.userAgent.substring(0, 60));
})();
</script>
